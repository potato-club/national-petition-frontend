(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{688:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return P}});var n=r(266),a=r(4229),u=r(809),c=r.n(u),o=r(7294),s=r(6407),i=r(9839),p=r(9956),f={getIdToken:function(){var t=(0,n.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem(i.Xd.tokenkey.id);case 2:if(t.t1=e=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==e;case 6:if(!t.t0){t.next=10;break}t.t2=e,t.next=11;break;case 10:t.t2="";case 11:return t.abrupt("return",t.t2);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setIdToken:function(t){return localStorage.setItem(i.Xd.tokenkey.id,t)},getRefreshToken:function(){var t=(0,n.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,localStorage.getItem(i.Xd.tokenkey.refresh);case 2:if(t.t1=e=t.sent,t.t0=null!==t.t1,!t.t0){t.next=6;break}t.t0=void 0!==e;case 6:if(!t.t0){t.next=10;break}t.t2=e,t.next=11;break;case 10:t.t2="";case 11:return t.abrupt("return",t.t2);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setRefreshToken:function(t){return localStorage.setItem(i.Xd.tokenkey.refresh,t)}},l=function(){var t=new URLSearchParams(window.location.search);return Object.fromEntries(t.entries())},d=r(2354),x=r(5893);var h=function(t){var e=t.visible,r=t.onConfirm,n=t.onClose,a=(0,o.useState)(""),u=a[0],c=a[1];return(0,x.jsx)(d.Z,{open:e,onClose:n,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,x.jsxs)(m,{children:[(0,x.jsxs)(g,{children:[(0,x.jsx)(s.sx,{type:"h3",color:i.Jx.gray,children:"\ub2c9\ub124\uc784\uc744 \ub4f1\ub85d\ud574\uc8fc\uc138\uc694"}),(0,x.jsx)(v,{placeholder:"\ucd5c\ub300 6\uae00\uc790\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4",maxLength:6,value:u,onChange:function(t){return function(t){c(t.target.value)}(t)}})]}),(0,x.jsx)(w,{children:(0,x.jsx)(k,{onClick:function(){return r(u)},children:(0,x.jsx)(s.sx,{type:"h3",color:i.Jx.blue,children:"\ud655\uc778"})})})]})})},v=(0,a.Z)("input",{target:"e1ejnit34"})("margin-top:16px;padding:8px;border:1px solid ",i.Jx.gray,";border-radius:4px;"),m=(0,a.Z)("div",{target:"e1ejnit33"})("background-color:",i.Jx.white,";position:absolute;display:flex;flex-direction:column;top:50%;left:50%;transform:translate(-50%, -50%);width:400px;min-height:184px;box-shadow:0px 8px 40px rgba(0, 0, 0, 0.05);border-radius:4px;padding:24px;outline:none;"),g=(0,a.Z)("div",{target:"e1ejnit32"})({name:"33t01d",styles:"display:flex;flex-direction:column;margin-bottom:16px"}),k=(0,a.Z)("div",{target:"e1ejnit31"})({name:"e0dnmk",styles:"cursor:pointer"}),w=(0,a.Z)("div",{target:"e1ejnit30"})({name:"ycseu5",styles:"display:flex;margin-top:auto;margin-left:auto"}),b=r(9669),y=r.n(b),Z={authGet:function(){var t=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=y(),t.t1=i.Xd.apiUrl+e,t.t2=r,t.t3="Bearer ",t.next=6,f.getIdToken();case 6:return t.t4=t.sent,t.t5=t.t3.concat.call(t.t3,t.t4),t.t6={Authorization:t.t5},t.t7={params:t.t2,headers:t.t6},t.abrupt("return",t.t0.get.call(t.t0,t.t1,t.t7));case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),get:function(){var t=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y().get(i.Xd.apiUrl+e,{params:r}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),authPost:function(){var t=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=y(),t.t1=i.Xd.apiUrl+e,t.t2=r,t.t3="Bearer ",t.next=6,f.getIdToken();case 6:return t.t4=t.sent,t.t5=t.t3.concat.call(t.t3,t.t4),t.t6={Authorization:t.t5},t.t7={headers:t.t6},t.abrupt("return",t.t0.post.call(t.t0,t.t1,t.t2,t.t7));case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),post:function(){var t=(0,n.Z)(c().mark((function t(e,r,n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y().post(i.Xd.apiUrl+e,n));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),authTextPut:function(){var t=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=y(),t.t1=i.Xd.apiUrl+e,t.t2=r,t.t3="Bearer ",t.next=6,f.getIdToken();case 6:return t.t4=t.sent,t.t5=t.t3.concat.call(t.t3,t.t4),t.t6={Authorization:t.t5},t.t7={method:"put",url:t.t1,data:t.t2,headers:t.t6},t.next=12,(0,t.t0)(t.t7);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),authDelete:function(){var t=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=y(),t.t1=i.Xd.apiUrl+e,t.t2=r,t.t3="Bearer ",t.next=6,f.getIdToken();case 6:return t.t4=t.sent,t.t5=t.t3.concat.call(t.t3,t.t4),t.t6={Authorization:t.t5},t.t7={method:"delete",url:t.t1,data:t.t2,headers:t.t6},t.next=12,(0,t.t0)(t.t7);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},j=(function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.get("/petitions",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authPost("/api/v1/board",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authPost("/api/v1/board/update",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authPost("/api/v1/board/like",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authDelete("/api/v1/board/like",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.get("/api/v1/getBoard/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.get("/api/v1/getBoard/list",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authTextPut("/api/v1/comment",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.get("/api/v1/comment/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authPost("/api/v1/comment/".concat(e),r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authPost("/api/v1/comment/like",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.get("/api/v1/comment/page",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authDelete("api/v1/comment/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authDelete("api/v1/comment/unlike",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}(),{addNickName:function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authPost("/api/v1/mypage/nickName",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getNickName:function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authGet("/nickName",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getInfo:function(){var t=(0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authGet("/api/v1/mypage/info");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),boardList:function(){var t=(0,n.Z)(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authGet("/api/v1/mypage/boardList",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),delete:function(){var t=(0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.authGet("/api/v1/mypage/delete");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});!function(){var t=(0,n.Z)(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z.get("/api/v1/petition/rank");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}();var T=(0,a.Z)("div",{target:"er9htf84"})("background-color:",i.Jx.deepBlue,";width:100vw;height:100vh;opacity:0.8;"),N=(0,a.Z)("div",{target:"er9htf83"})({name:"185jbv6",styles:"display:flex;justify-content:center;margin-top:32px;margin-bottom:16px"}),I=(0,a.Z)("div",{target:"er9htf82"})(""),_=(0,a.Z)("div",{target:"er9htf81"})("display:flex;flex-direction:column;background-color:",i.Jx.grayBg,";border:1px solid ",i.Jx.grayBg,";padding:8px;border-radius:4px;box-shadow:0px 8px 40px rgba(0, 0, 0, 0.05);margin-left:auto;margin-right:auto;margin-top:200px;width:480px;"),E=(0,a.Z)("div",{target:"er9htf80"})({name:"8t2ntj",styles:"margin-top:32px;margin-bottom:32px;margin-left:auto;margin-right:auto"}),P=function(){var t=(0,o.useState)(!1),e=t[0],r=t[1];(0,o.useEffect)((function(){!function(){if(c=l(),0!==Object.keys(c).length){var t=l(),e=t.register,n=t.idToken,u=t.refreshToken;console.log("REGISTER :: ",e),console.log("ID_TOKEN :: ",n),console.log("REFRESH_TOKEN :: ",u),a(n,u),"false"===e&&r(!0)}var c}()}),[]);var a=function(t,e){f.setIdToken(t),f.setRefreshToken(e)},u=function(){var t=(0,n.Z)(c().mark((function t(e){var r,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.prev=1,t.next=4,j.addNickName({nickName:e});case 4:r=t.sent,n=r.data,console.log("DATA :: ",n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return(0,x.jsxs)(s.kz,{children:[(0,x.jsx)(s.h4,{}),(0,x.jsx)(T,{children:(0,x.jsxs)(_,{children:[(0,x.jsx)(N,{children:(0,x.jsx)(s.sx,{type:"h1",color:i.Jx.black,children:"\uc18c\uc15c \ub85c\uadf8\uc778"})}),(0,x.jsx)(I,{children:(0,x.jsx)(s.sx,{type:"body1",color:i.Jx.gray,textAlign:"center",children:"\ub85c\uadf8\uc778\uc744 \ud1b5\ud574 \uad6d\ubbfc\uccad\uc6d0\uc758 \uc758\uacac\uc744 \ud68c\uc6d0\ub4e4\uacfc \uc18c\ud1b5\ud574\ubcf4\uc138\uc694!"})}),(0,x.jsx)(E,{children:(0,x.jsx)(p.GoogleLoginButton,{onClick:function(){location.href="http://ec2-54-180-73-27.ap-northeast-2.compute.amazonaws.com:30000/login/oauth2/code/google"}})})]})}),(0,x.jsx)(h,{visible:e,onClose:function(){return r(!0)},onConfirm:u})]})}},5501:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/login",function(){return r(688)}])}},function(t){t.O(0,[774,937,228,314,794,407,888,179],(function(){return e=5501,t(t.s=e);var e}));var e=t.O();_N_E=e}]);